<extend name="Public/base" />
<block name="main">
    <style>
   .layui-upload-file {
    cursor: pointer;
    position:absolute;
    top:120px;
    left:120px;
    background-color:#000000; opacity:0.1; -moz-opacity:0.1; filter:alpha(opacity=10)
}
    </style>
	<fieldset class="layui-elem-field">
        <legend>用户管理 - 用户列表</legend>
        <div class="layui-field-box">
        <div class="layui-tab layui-tab-brief" lay-filter="docDemoTabBrief">
			  <ul class="layui-tab-title">
			    <li class="layui-this">基本信息</li>
			    <li>用户头像</li>
			    <li>修改密码</li>
			  </ul>
			  <div class="layui-tab-content">
			    <div class="layui-tab-item layui-show">
		    		<form class="layui-form">
						<div class="layui-form-item">
						    <label class="layui-form-label">用户名</label>
						    <div class="layui-input-block">
						    	<input type="text" value="{$detail['username']}"  class="layui-input">
						    </div>
						</div>
						<div class="layui-form-item">
						    <label class="layui-form-label">用户组</label>
						    <div class="layui-input-block">
						    	<input type="text" value="超级管理员"  class="layui-input">
						    </div>
						</div>
						<div class="layui-form-item">
						    <label class="layui-form-label">昵称</label>
						    <div class="layui-input-block">
						    	<input type="text" value="{$detail['nickname']}" placeholder="请输入真实姓名" lay-verify="required" class="layui-input">
						    </div>
						</div>
						<div class="layui-form-item" pane="">
						    <label class="layui-form-label">性别</label>
						    <div class="layui-input-block">
						    	<input type="radio" name="sex" value="男" title="男" checked="">
				     			<input type="radio" name="sex" value="女" title="女">
				     			<input type="radio" name="sex" value="保密" title="保密">
						    </div>
						</div>
						<div class="layui-form-item">
						    <label class="layui-form-label">手机号码</label>
						    <div class="layui-input-block">
						    	<input type="tel" value="{$detail['mobile']}" placeholder="请输入手机号码" lay-verify="required|phone" class="layui-input">
						    </div>
						</div>
						<!--<div class="layui-form-item">
						    <label class="layui-form-label">出生年月</label>
						    <div class="layui-input-block">
						    	<input type="text" value="{$detail['birthday']}" placeholder="请输入出生年月" lay-verify="required|date" onclick="layui.laydate({elem: this,max: laydate.now()})" class="layui-input">
						    </div>
						</div>
						<div class="layui-form-item">
						    <label class="layui-form-label">家庭住址</label>
						    <div class="layui-input-inline" style="width:150px">
				                <select name="province" lay-filter="province">
				                    <option value="">请选择省</option>
				                </select>
				            </div>
				            <div class="layui-input-inline" style="width:150px">
				                <select name="city" lay-filter="city" disabled>
				                    <option value="">请选择市</option>
				                </select>
				            </div>
				            <div class="layui-input-inline" style="width:150px">
				                <select name="area" lay-filter="area" disabled>
				                    <option value="">请选择县/区</option>
				                </select>
				            </div>
						</div>
						<div class="layui-form-item">
						    <label class="layui-form-label">兴趣爱好</label>
						    <div class="layui-input-block">
						    	<input type="checkbox" name="like1[javascript]" title="Javascript">
							    <input type="checkbox" name="like1[html]" title="HTML(5)">
							    <input type="checkbox" name="like1[css]" title="CSS(3)">
							    <input type="checkbox" name="like1[php]" title="PHP">
							    <input type="checkbox" name="like1[.net]" title=".net">
							    <input type="checkbox" name="like1[ASP]" title="ASP">
							    <input type="checkbox" name="like1[C#]" title="C#">
							    <input type="checkbox" name="like1[Angular]" title="Angular">
							    <input type="checkbox" name="like1[VUE]" title="VUE">
							    <input type="checkbox" name="like1[XML]" title="XML">
						    </div>
						</div>-->
						<div class="layui-form-item">
						    <label class="layui-form-label">邮箱</label>
						    <div class="layui-input-block">
						    	<input type="text" value="{$detail['email']}" placeholder="请输入邮箱" lay-verify="required|email" class="layui-input">
						    </div>
						</div>
						<div class="layui-form-item" style="margin-left: 5%;">
						    <div class="layui-input-block">
						    	<button class="layui-btn" lay-submit="" lay-filter="changeUser">立即提交</button>
								<button type="reset" class="layui-btn layui-btn-primary">重置</button>
						    </div>
						</div>
					</form>
			    </div>
			    <div class="layui-tab-item">
			    	<form class="layui-form">
			    			<div class="site-demo-upload">
                              <img id="LAY_demo_upload"style="width:200px;height:200px;border-radius:100%" src="__PUBLIC__/upload/{$detail['image']}">
                              <div class="site-demo-upbar">
                                <input type="file" name="file" class="layui-upload-file" id="test" style="opacity: .01;filter: Alpha(opacity=1);cursor: pointer;">
                              </div>
                            </div>
							<div class="layui-form-item" style="margin-left: 5%;">
							    <div class="layui-input-block">
							    	<button class="layui-btn" lay-submit="" lay-filter="changeimage">立即提交</button>
									<button type="reset" class="layui-btn layui-btn-primary">重置</button>
							    </div>
							</div>
						</form>
			    </div>
			    <div class="layui-tab-item">
	    		<form class="layui-form changePwd">
					<div style="margin:0 0 15px 110px;color:#f00;">旧密码请输入“123456”，新密码必须两次输入一致才能提交</div>
						<div class="layui-form-item">
						    <label class="layui-form-label">用户名</label>
						    <div class="layui-input-block">
						    	<input type="text" value="请叫我强哥" disabled class="layui-input layui-disabled">
						    </div>
						</div>
						<div class="layui-form-item">
						    <label class="layui-form-label">旧密码</label>
						    <div class="layui-input-block">
						    	<input type="password" value="" placeholder="请输入旧密码" lay-verify="required|oldPwd" class="layui-input pwd">
						    </div>
						</div>
						<div class="layui-form-item">
						    <label class="layui-form-label">新密码</label>
						    <div class="layui-input-block">
						    	<input type="password" value="" placeholder="请输入新密码" lay-verify="required|newPwd" id="oldPwd" class="layui-input pwd">
						    </div>
						</div>
						<div class="layui-form-item">
						    <label class="layui-form-label">确认密码</label>
						    <div class="layui-input-block">
						    	<input type="password" value="" placeholder="请确认密码" lay-verify="required|confirmPwd" class="layui-input pwd">
						    </div>
						</div>
						<div class="layui-form-item">
						    <div class="layui-input-block">
						    	<button class="layui-btn" lay-submit="" lay-filter="changePwd">立即修改</button>
								<button type="reset" class="layui-btn layui-btn-primary">重置</button>
						    </div>
						</div>
					</form>
			    </div>
			  </div>
			</div>			
	</div>
	</fieldset>
	<script>
layui.use(['upload','element'], function(){
  var $ = layui.jquery
  ,element = layui.element(); //Tab的切换功能，切换事件监听等，需要依赖element模块
  
  layui.upload({
    url: '/test/upload.json'
    ,elem: '#test' //指定原始元素，默认直接查找class="layui-upload-file"
    ,method: 'get' //上传接口的http类型
    ,success: function(res){
      LAY_demo_upload.src = res.url;
    }
  });
  //触发事件
  var active = {
    tabAdd: function(){
      //新增一个Tab项
      element.tabAdd('demo', {
        title: '新选项'+ (Math.random()*1000|0) //用于演示
        ,content: '内容'+ (Math.random()*1000|0)
        ,id: new Date().getTime() //实际使用一般是规定好的id，这里以时间戳模拟下
      })
    }
    ,tabDelete: function(othis){
      //删除指定Tab项
      element.tabDelete('demo', '44'); //删除：“商品管理”
      
      
      othis.addClass('layui-btn-disabled');
    }
    ,tabChange: function(){
      //切换到指定Tab项
      element.tabChange('demo', '22'); //切换到：用户管理
    }
  };
  
  $('.site-demo-active').on('click', function(){
    var othis = $(this), type = othis.data('type');
    active[type] ? active[type].call(this, othis) : '';
  });
  
  //Hash地址的定位
  var layid = location.hash.replace(/^#test=/, '');
  element.tabChange('test', layid);
  
  element.on('tab(test)', function(elem){
    location.hash = 'test='+ $(this).attr('lay-id');
  });
  
});
</script>
</block>